{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///D:/BackupOfApp/final%20frontend%20datathon/src/lib/utils.js"],"sourcesContent":["export function cn(...classes) {\r\n    return classes.filter(Boolean).join(\" \");\r\n}\r\n"],"names":[],"mappings":";;;;AAAO,SAAS,GAAG,GAAG,OAAO;IACzB,OAAO,QAAQ,MAAM,CAAC,SAAS,IAAI,CAAC;AACxC"}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///D:/BackupOfApp/final%20frontend%20datathon/src/components/ui/Navbar.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { LayoutDashboard, Map, BarChart3, AlertTriangle, Menu, X } from \"lucide-react\";\r\nimport { useState } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\nexport function Navbar() {\r\n    const pathname = usePathname();\r\n    const [isOpen, setIsOpen] = useState(false);\r\n\r\n    const navItems = [\r\n        { name: \"Home\", href: \"/\", icon: <LayoutDashboard className=\"w-4 h-4\" /> },\r\n        { name: \"Live Map\", href: \"/map\", icon: <Map className=\"w-4 h-4\" /> },\r\n        { name: \"Analytics\", href: \"/analytics\", icon: <BarChart3 className=\"w-4 h-4\" /> },\r\n        { name: \"Navigator\", href: \"/navigator\", icon: <Map className=\"w-4 h-4\" /> },\r\n        { name: \"Alerts\", href: \"/alerts\", icon: <AlertTriangle className=\"w-4 h-4\" /> },\r\n    ];\r\n\r\n    return (\r\n        <nav className=\"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border/50\">\r\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n                <div className=\"flex items-center justify-between h-16\">\r\n                    <div className=\"flex items-center\">\r\n                        <Link href=\"/\" className=\"flex items-center gap-2 font-bold text-xl text-primary\">\r\n                            <div className=\"w-8 h-8 rounded-lg bg-primary/20 flex items-center justify-center\">\r\n                                <Map className=\"w-5 h-5 text-primary\" />\r\n                            </div>\r\n                            <span className=\"hidden sm:inline-block bg-clip-text text-transparent bg-gradient-to-r from-primary to-purple-500\">\r\n                                Mumbai Pulse\r\n                            </span>\r\n                        </Link>\r\n                    </div>\r\n\r\n                    <div className=\"hidden md:block\">\r\n                        <div className=\"ml-10 flex items-baseline space-x-4\">\r\n                            {navItems.map((item) => (\r\n                                <Link\r\n                                    key={item.name}\r\n                                    href={item.href}\r\n                                    className={cn(\r\n                                        \"px-3 py-2 rounded-md text-sm font-medium transition-colors flex items-center gap-2\",\r\n                                        pathname === item.href\r\n                                            ? \"bg-primary/10 text-primary border border-primary/20\"\r\n                                            : \"text-muted-foreground hover:bg-secondary/50 hover:text-foreground\"\r\n                                    )}\r\n                                >\r\n                                    {item.icon}\r\n                                    {item.name}\r\n                                </Link>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"-mr-2 flex md:hidden\">\r\n                        <button\r\n                            onClick={() => setIsOpen(!isOpen)}\r\n                            className=\"inline-flex items-center justify-center p-2 rounded-md text-muted-foreground hover:text-foreground hover:bg-secondary/50 focus:outline-none\"\r\n                        >\r\n                            {isOpen ? <X className=\"w-6 h-6\" /> : <Menu className=\"w-6 h-6\" />}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <AnimatePresence>\r\n                {isOpen && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0, height: 0 }}\r\n                        animate={{ opacity: 1, height: \"auto\" }}\r\n                        exit={{ opacity: 0, height: 0 }}\r\n                        className=\"md:hidden bg-background border-b border-border/50 overflow-hidden\"\r\n                    >\r\n                        <div className=\"px-2 pt-2 pb-3 space-y-1 sm:px-3\">\r\n                            {navItems.map((item) => (\r\n                                <Link\r\n                                    key={item.name}\r\n                                    href={item.href}\r\n                                    onClick={() => setIsOpen(false)}\r\n                                    className={cn(\r\n                                        \"block px-3 py-2 rounded-md text-base font-medium flex items-center gap-2\",\r\n                                        pathname === item.href\r\n                                            ? \"bg-primary/10 text-primary\"\r\n                                            : \"text-muted-foreground hover:bg-secondary/50 hover:text-foreground\"\r\n                                    )}\r\n                                >\r\n                                    {item.icon}\r\n                                    {item.name}\r\n                                </Link>\r\n                            ))}\r\n                        </div>\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </nav>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAPA;;;;;;;;AASO,SAAS;IACZ,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IAErC,MAAM,WAAW;QACb;YAAE,MAAM;YAAQ,MAAM;YAAK,oBAAM,8OAAC,+OAAe;gBAAC,WAAU;;;;;;QAAa;QACzE;YAAE,MAAM;YAAY,MAAM;YAAQ,oBAAM,8OAAC,uMAAG;gBAAC,WAAU;;;;;;QAAa;QACpE;YAAE,MAAM;YAAa,MAAM;YAAc,oBAAM,8OAAC,+NAAS;gBAAC,WAAU;;;;;;QAAa;QACjF;YAAE,MAAM;YAAa,MAAM;YAAc,oBAAM,8OAAC,uMAAG;gBAAC,WAAU;;;;;;QAAa;QAC3E;YAAE,MAAM;YAAU,MAAM;YAAW,oBAAM,8OAAC,yOAAa;gBAAC,WAAU;;;;;;QAAa;KAClF;IAED,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC,uKAAI;gCAAC,MAAK;gCAAI,WAAU;;kDACrB,8OAAC;wCAAI,WAAU;kDACX,cAAA,8OAAC,uMAAG;4CAAC,WAAU;;;;;;;;;;;kDAEnB,8OAAC;wCAAK,WAAU;kDAAmG;;;;;;;;;;;;;;;;;sCAM3H,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;gCAAI,WAAU;0CACV,SAAS,GAAG,CAAC,CAAC,qBACX,8OAAC,uKAAI;wCAED,MAAM,KAAK,IAAI;wCACf,WAAW,IAAA,yHAAE,EACT,sFACA,aAAa,KAAK,IAAI,GAChB,wDACA;;4CAGT,KAAK,IAAI;4CACT,KAAK,IAAI;;uCAVL,KAAK,IAAI;;;;;;;;;;;;;;;sCAgB9B,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;gCACG,SAAS,IAAM,UAAU,CAAC;gCAC1B,WAAU;0CAET,uBAAS,8OAAC,iMAAC;oCAAC,WAAU;;;;;yDAAe,8OAAC,0MAAI;oCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAMtE,8OAAC,4MAAe;0BACX,wBACG,8OAAC,oMAAM,CAAC,GAAG;oBACP,SAAS;wBAAE,SAAS;wBAAG,QAAQ;oBAAE;oBACjC,SAAS;wBAAE,SAAS;wBAAG,QAAQ;oBAAO;oBACtC,MAAM;wBAAE,SAAS;wBAAG,QAAQ;oBAAE;oBAC9B,WAAU;8BAEV,cAAA,8OAAC;wBAAI,WAAU;kCACV,SAAS,GAAG,CAAC,CAAC,qBACX,8OAAC,uKAAI;gCAED,MAAM,KAAK,IAAI;gCACf,SAAS,IAAM,UAAU;gCACzB,WAAW,IAAA,yHAAE,EACT,4EACA,aAAa,KAAK,IAAI,GAChB,+BACA;;oCAGT,KAAK,IAAI;oCACT,KAAK,IAAI;;+BAXL,KAAK,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;AAoBlD"}},
    {"offset": {"line": 292, "column": 0}, "map": {"version":3,"sources":["file:///D:/BackupOfApp/final%20frontend%20datathon/src/lib/api.js"],"sourcesContent":["// Client-side API helpers that point to the FastAPI backend.\r\n// They degrade to deterministic mock data if the backend is unreachable to prevent UI crashes on Vercel previews.\r\n\r\nconst API_BASE = (process.env.NEXT_PUBLIC_API_BASE || process.env.API_BASE_URL || \"\").replace(/\\/$/, \"\");\r\n\r\nconst FALLBACK_SEGMENTS = [\r\n    { road_id: \"AIR_1\", road_name: \"Airport Approach Road\", segment_name: \"Terminal 2 (Sahar)\", lat: 19.0896, lon: 72.8656, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"AIR_2\", road_name: \"Airport Approach Road\", segment_name: \"Terminal 1 (Santacruz)\", lat: 19.0945, lon: 72.853, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"AKR_1\", road_name: \"Andheri-Kurla Road\", segment_name: \"Saki Naka\", lat: 19.089, lon: 72.8884, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"AKR_2\", road_name: \"Andheri-Kurla Road\", segment_name: \"Marol\", lat: 19.1083, lon: 72.8856, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"AKR_3\", road_name: \"Andheri-Kurla Road\", segment_name: \"Chakala\", lat: 19.1105, lon: 72.8628, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"AKR_4\", road_name: \"Andheri-Kurla Road\", segment_name: \"Kurla West\", lat: 19.073, lon: 72.8795, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"WOR_1\", road_name: \"Annie Besant Road\", segment_name: \"Worli Naka\", lat: 19.0097, lon: 72.8175, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"WOR_2\", road_name: \"Annie Besant Road\", segment_name: \"Prabhadevi\", lat: 19.0144, lon: 72.8258, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"BKC_3\", road_name: \"BKC Connector\", segment_name: \"BKC Near US Consulate\", lat: 19.066, lon: 72.8635, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"BKC_2\", road_name: \"BKC Connector\", segment_name: \"BKC Central\", lat: 19.0672, lon: 72.8664, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"BKC_1\", road_name: \"BKC Connector\", segment_name: \"Bandra East Entry\", lat: 19.0607, lon: 72.8691, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"BKC_4\", road_name: \"BKC Connector\", segment_name: \"BKC - MMRDA Grounds\", lat: 19.0688, lon: 72.862, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"BWSL_2\", road_name: \"Bandra-Worli Sea Link Approach\", segment_name: \"Worli End\", lat: 19.0167, lon: 72.8162, road_class: \"highway\", readings: 17544 },\r\n    { road_id: \"BWSL_1\", road_name: \"Bandra-Worli Sea Link Approach\", segment_name: \"Bandra Reclamation\", lat: 19.0353, lon: 72.8166, road_class: \"highway\", readings: 17544 },\r\n    { road_id: \"CAR_1\", road_name: \"Carter Road\", segment_name: \"Bandra West\", lat: 19.06, lon: 72.8192, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"CHE_1\", road_name: \"Chembur Junction Approaches\", segment_name: \"Amar Mahal Junction\", lat: 19.0642, lon: 72.8936, road_class: \"local\", readings: 17544 },\r\n    { road_id: \"DHA_1\", road_name: \"Dharavi Main Road\", segment_name: \"Dharavi Junction\", lat: 19.0431, lon: 72.853, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"EMR_1\", road_name: \"Dr. E Moses Road\", segment_name: \"Mahalaxmi\", lat: 18.9838, lon: 72.8039, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"EEH_4\", road_name: \"Eastern Express Highway\", segment_name: \"Bhandup\", lat: 19.1438, lon: 72.943, road_class: \"highway\", readings: 17544 },\r\n    { road_id: \"EEH_5\", road_name: \"Eastern Express Highway\", segment_name: \"Vikhroli\", lat: 19.1119, lon: 72.9341, road_class: \"highway\", readings: 17544 },\r\n    { road_id: \"EEH_6\", road_name: \"Eastern Express Highway\", segment_name: \"Kurla\", lat: 19.0734, lon: 72.8847, road_class: \"highway\", readings: 17544 },\r\n    { road_id: \"EEH_7\", road_name: \"Eastern Express Highway\", segment_name: \"Chembur Naka\", lat: 19.0564, lon: 72.889, road_class: \"highway\", readings: 17544 },\r\n    { road_id: \"EEH_2\", road_name: \"Eastern Express Highway\", segment_name: \"Ghatkopar\", lat: 19.0867, lon: 72.9073, road_class: \"highway\", readings: 17544 },\r\n    { road_id: \"EEH_1\", road_name: \"Eastern Express Highway\", segment_name: \"Mulund\", lat: 19.1736, lon: 72.957, road_class: \"highway\", readings: 17544 },\r\n    { road_id: \"EEH_3\", road_name: \"Eastern Express Highway\", segment_name: \"Sion\", lat: 19.0455, lon: 72.8632, road_class: \"highway\", readings: 17544 },\r\n    { road_id: \"GMLR_1\", road_name: \"Ghatkopar-Mankhurd Link Road\", segment_name: \"Ghatkopar Link Start\", lat: 19.0891, lon: 72.9152, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"GMLR_2\", road_name: \"Ghatkopar-Mankhurd Link Road\", segment_name: \"Mankhurd End\", lat: 19.0468, lon: 72.9396, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"JVLR_1\", road_name: \"JVLR\", segment_name: \"WEH Junction\", lat: 19.1316, lon: 72.8464, road_class: \"local\", readings: 17544 },\r\n    { road_id: \"JVLR_3\", road_name: \"JVLR\", segment_name: \"IIT Powai\", lat: 19.1325, lon: 72.915, road_class: \"local\", readings: 17544 },\r\n    { road_id: \"JVLR_4\", road_name: \"JVLR\", segment_name: \"Kanjurmarg Link\", lat: 19.1246, lon: 72.9287, road_class: \"local\", readings: 17544 },\r\n    { road_id: \"JVLR_2\", road_name: \"JVLR\", segment_name: \"Powai\", lat: 19.1194, lon: 72.9055, road_class: \"local\", readings: 17544 },\r\n    { road_id: \"JTR_1\", road_name: \"Juhu Tara Road\", segment_name: \"Juhu\", lat: 19.0979, lon: 72.8261, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"LBS_1\", road_name: \"LBS Marg\", segment_name: \"Mulund West\", lat: 19.1725, lon: 72.9457, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"LBS_2\", road_name: \"LBS Marg\", segment_name: \"Vikhroli West\", lat: 19.1075, lon: 72.9289, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"LBS_3\", road_name: \"LBS Marg\", segment_name: \"Bhandup West\", lat: 19.1432, lon: 72.9353, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"LBS_4\", road_name: \"LBS Marg\", segment_name: \"Kanjurmarg\", lat: 19.1307, lon: 72.9343, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"LBS_5\", road_name: \"LBS Marg\", segment_name: \"Ghatkopar West\", lat: 19.086, lon: 72.909, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"LNK_3\", road_name: \"Linking Road\", segment_name: \"Santacruz\", lat: 19.0808, lon: 72.8324, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"LNK_1\", road_name: \"Linking Road\", segment_name: \"Bandra\", lat: 19.0604, lon: 72.8352, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"LNK_2\", road_name: \"Linking Road\", segment_name: \"Khar\", lat: 19.0718, lon: 72.833, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"MAH_1\", road_name: \"Mahim Junction Approaches\", segment_name: \"Mahim Causeway\", lat: 19.0402, lon: 72.84, road_class: \"local\", readings: 17544 },\r\n    { road_id: \"MAR_1\", road_name: \"Marine Drive\", segment_name: \"Churchgate\", lat: 18.9335, lon: 72.8257, road_class: \"local\", readings: 17544 },\r\n    { road_id: \"MAR_2\", road_name: \"Marine Drive\", segment_name: \"Nariman Point\", lat: 18.9256, lon: 72.8232, road_class: \"local\", readings: 17544 },\r\n    { road_id: \"NMJ_1\", road_name: \"N. M. Joshi Marg\", segment_name: \"Byculla\", lat: 18.9769, lon: 72.8326, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"PDR_1\", road_name: \"P. D'Mello Road\", segment_name: \"CST / Masjid Bunder\", lat: 18.9508, lon: 72.838, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"PED_1\", road_name: \"Peddar Road\", segment_name: \"Kemps Corner\", lat: 18.9647, lon: 72.8075, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"SVR_5\", road_name: \"S V Road\", segment_name: \"Andheri\", lat: 19.119, lon: 72.846, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"SVR_8\", road_name: \"S V Road\", segment_name: \"Borivali\", lat: 19.23, lon: 72.8565, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"SVR_7\", road_name: \"S V Road\", segment_name: \"Malad\", lat: 19.1861, lon: 72.8488, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"SVR_6\", road_name: \"S V Road\", segment_name: \"Goregaon\", lat: 19.1663, lon: 72.8499, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"SVR_4\", road_name: \"S V Road\", segment_name: \"Vile Parle\", lat: 19.0996, lon: 72.8426, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"SVR_3\", road_name: \"S V Road\", segment_name: \"Santacruz\", lat: 19.0798, lon: 72.8332, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"SVR_1\", road_name: \"S V Road\", segment_name: \"Bandra\", lat: 19.0548, lon: 72.8407, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"SVR_2\", road_name: \"S V Road\", segment_name: \"Khar\", lat: 19.0702, lon: 72.8337, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"SCLR_3\", road_name: \"SCLR\", segment_name: \"CST Road / Kurla\", lat: 19.0775, lon: 72.8818, road_class: \"local\", readings: 17544 },\r\n    { road_id: \"SCLR_2\", road_name: \"SCLR\", segment_name: \"Chembur Exit\", lat: 19.0616, lon: 72.8971, road_class: \"local\", readings: 17544 },\r\n    { road_id: \"SCLR_1\", road_name: \"SCLR\", segment_name: \"Santacruz East\", lat: 19.0794, lon: 72.8563, road_class: \"local\", readings: 17544 },\r\n    { road_id: \"SAH_1\", road_name: \"Sahar Elevated Road\", segment_name: \"Sahar Elevated Entry\", lat: 19.1072, lon: 72.8622, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"SAH_2\", road_name: \"Sahar Elevated Road\", segment_name: \"Andheri East Exit\", lat: 19.1157, lon: 72.8592, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"SBM_2\", road_name: \"Senapati Bapat Marg\", segment_name: \"Lower Parel\", lat: 18.9982, lon: 72.8291, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"SBM_1\", road_name: \"Senapati Bapat Marg\", segment_name: \"Dadar West\", lat: 19.0209, lon: 72.842, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"SIO_1\", road_name: \"Sion Junction Approaches\", segment_name: \"Sion Circle\", lat: 19.0408, lon: 72.8629, road_class: \"local\", readings: 17544 },\r\n    { road_id: \"SPH_2\", road_name: \"Sion-Panvel Highway\", segment_name: \"Mankhurd\", lat: 19.0509, lon: 72.9296, road_class: \"highway\", readings: 17544 },\r\n    { road_id: \"SPH_4\", road_name: \"Sion-Panvel Highway\", segment_name: \"Govandi\", lat: 19.0475, lon: 72.916, road_class: \"highway\", readings: 17544 },\r\n    { road_id: \"SPH_1\", road_name: \"Sion-Panvel Highway\", segment_name: \"Chembur\", lat: 19.0623, lon: 72.8974, road_class: \"highway\", readings: 17544 },\r\n    { road_id: \"TAR_1\", road_name: \"Tardeo Road\", segment_name: \"Tardeo\", lat: 18.9729, lon: 72.809, road_class: \"arterial\", readings: 17544 },\r\n    { road_id: \"WEH_10\", road_name: \"Western Express Highway\", segment_name: \"Santacruz East\", lat: 19.0816, lon: 72.8487, road_class: \"highway\", readings: 17544 },\r\n    { road_id: \"WEH_2\", road_name: \"Western Express Highway\", segment_name: \"Goregaon East\", lat: 19.1633, lon: 72.8497, road_class: \"highway\", readings: 17544 },\r\n    { road_id: \"WEH_3\", road_name: \"Western Express Highway\", segment_name: \"Andheri East\", lat: 19.1197, lon: 72.8468, road_class: \"highway\", readings: 17544 },\r\n    { road_id: \"WEH_4\", road_name: \"Western Express Highway\", segment_name: \"Bandra East\", lat: 19.0556, lon: 72.8426, road_class: \"highway\", readings: 17544 },\r\n    { road_id: \"WEH_5\", road_name: \"Western Express Highway\", segment_name: \"Borivali East\", lat: 19.228, lon: 72.8546, road_class: \"highway\", readings: 17544 },\r\n    { road_id: \"WEH_6\", road_name: \"Western Express Highway\", segment_name: \"Kandivali East\", lat: 19.2045, lon: 72.8571, road_class: \"highway\", readings: 17544 },\r\n    { road_id: \"WEH_7\", road_name: \"Western Express Highway\", segment_name: \"Malad East\", lat: 19.1871, lon: 72.8486, road_class: \"highway\", readings: 17544 },\r\n    { road_id: \"WEH_8\", road_name: \"Western Express Highway\", segment_name: \"Jogeshwari East\", lat: 19.1351, lon: 72.854, road_class: \"highway\", readings: 17544 },\r\n    { road_id: \"WEH_9\", road_name: \"Western Express Highway\", segment_name: \"Vile Parle East\", lat: 19.0991, lon: 72.8527, road_class: \"highway\", readings: 17544 },\r\n    { road_id: \"WEH_1\", road_name: \"Western Express Highway\", segment_name: \"Dahisar East\", lat: 19.2514, lon: 72.8653, road_class: \"highway\", readings: 17544 }\r\n];\r\n\r\nfunction buildMockPredictions(limit = 10) {\r\n    const now = Date.now();\r\n    return FALLBACK_SEGMENTS.slice(0, limit).map((seg, idx) => {\r\n        const base = 62 + idx * 6;\r\n        return {\r\n            road_id: seg.road_id,\r\n            road_name: seg.road_name,\r\n            segment_name: seg.segment_name,\r\n            congestion_pct: Math.min(95, base),\r\n            congestion_band: base > 80 ? \"Severe\" : base > 70 ? \"Heavy\" : \"Moderate\",\r\n            speed_kmph: Math.max(10, 28 - idx * 3),\r\n            timestamp: new Date(now - idx * 5 * 60 * 1000).toISOString(),\r\n        };\r\n    });\r\n}\r\n\r\nfunction buildUrl(path) {\r\n    if (/^https?:\\/\\//i.test(path)) return path;\r\n    const normalized = path.startsWith(\"/\") ? path : `/${path}`;\r\n    return `${API_BASE}${normalized}` || normalized;\r\n}\r\n\r\nasync function apiFetch(path, options = {}) {\r\n    const url = buildUrl(path);\r\n    const res = await fetch(url, {\r\n        ...options,\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            ...(options.headers || {}),\r\n        },\r\n    });\r\n\r\n    const contentType = res.headers.get(\"content-type\") || \"\";\r\n    const isJson = contentType.includes(\"application/json\");\r\n    if (!res.ok) {\r\n        const detail = isJson ? await res.json().catch(() => ({})) : await res.text().catch(() => \"\");\r\n        const message = typeof detail === \"string\" ? detail : detail?.detail || res.statusText;\r\n        throw new Error(message || `Request failed (${res.status})`);\r\n    }\r\n\r\n    if (res.status === 204) return null;\r\n    return isJson ? res.json() : res.text();\r\n}\r\n\r\nexport async function fetchSegments() {\r\n    try {\r\n        const data = await apiFetch(\"/api/segments\");\r\n        if (Array.isArray(data) && data.length) return data;\r\n    } catch (err) {\r\n        console.warn(\"fetchSegments fallback:\", err?.message);\r\n    }\r\n    return FALLBACK_SEGMENTS;\r\n}\r\n\r\nexport async function searchPredictions(opts = {}) {\r\n    const payload = {\r\n        road_id: opts.road_id || null,\r\n        start_time: opts.start_time || null,\r\n        end_time: opts.end_time || null,\r\n        min_congestion: opts.min_congestion ?? 0,\r\n        max_congestion: opts.max_congestion ?? 100,\r\n        limit: opts.limit ?? 50,\r\n    };\r\n\r\n    try {\r\n        const data = await apiFetch(\"/api/search\", { method: \"POST\", body: JSON.stringify(payload) });\r\n        if (Array.isArray(data)) return data;\r\n    } catch (err) {\r\n        console.warn(\"searchPredictions fallback:\", err?.message);\r\n    }\r\n    return buildMockPredictions(payload.limit);\r\n}\r\n\r\nexport async function fetchDatathonForecast(roadId, isoTimestamp, congestionPct) {\r\n    if (!roadId) throw new Error(\"roadId is required for forecast\");\r\n    const body = {\r\n        road_id: roadId,\r\n        timestamp: isoTimestamp || new Date().toISOString(),\r\n        current_congestion_pct: congestionPct,\r\n    };\r\n\r\n    try {\r\n        const data = await apiFetch(\"/api/datathon/forecast\", { method: \"POST\", body: JSON.stringify(body) });\r\n        return data;\r\n    } catch (err) {\r\n        console.warn(\"fetchDatathonForecast fallback:\", err?.message);\r\n        const now = body.timestamp ? new Date(body.timestamp).getTime() : Date.now();\r\n        const base = Math.max(0, Math.min(100, congestionPct ?? 55));\r\n        return {\r\n            road_id: roadId,\r\n            timestamp: new Date(now).toISOString(),\r\n            pred_congestion_plus_1h: Math.min(0.98, (base + 5) / 100),\r\n            pred_congestion_plus_2h: Math.min(0.98, (base + 9) / 100),\r\n            pred_congestion_plus_6h: Math.min(0.98, (base + 12) / 100),\r\n            pred_congestion_plus_24h: Math.max(0.2, (base - 8) / 100),\r\n            alert: \"Using fallback forecast; backend unavailable\",\r\n        };\r\n    }\r\n}\r\n\r\nexport async function sendChatMessage(message, chatHistory = [], liveContext = []) {\r\n    if (!message) throw new Error(\"message cannot be empty\");\r\n    const body = { user_message: message, chat_history: chatHistory, live_context: liveContext };\r\n\r\n    try {\r\n        const data = await apiFetch(\"/api/chat/message\", { method: \"POST\", body: JSON.stringify(body) });\r\n        if (data?.reply) return data;\r\n    } catch (err) {\r\n        console.warn(\"sendChatMessage fallback:\", err?.message);\r\n    }\r\n\r\n    return {\r\n        reply: \"Live AI service is currently unavailable. Please try again later.\",\r\n    };\r\n}\r\n\r\nexport async function generateMitigation(criticalSegments = []) {\r\n    const body = { critical_segments: criticalSegments };\r\n    try {\r\n        const data = await apiFetch(\"/api/generate-mitigation\", { method: \"POST\", body: JSON.stringify(body) });\r\n        if (data) return data;\r\n    } catch (err) {\r\n        console.warn(\"generateMitigation fallback:\", err?.message);\r\n    }\r\n\r\n    return {\r\n        analysis: \"Fallback analysis: monitor critical corridors and coordinate diversions with on-ground teams.\",\r\n        actions: [\r\n            \"Deploy marshals to the top 2 congested intersections to manage signal timing manually.\",\r\n            \"Broadcast alternate routes via navigator and public radio for BKC/WEH traffic.\",\r\n            \"Stage breakdown vans near SCLR and Eastern Freeway ramps to clear incidents quickly.\",\r\n        ],\r\n    };\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1136, "column": 0}, "map": {"version":3,"sources":["file:///D:/BackupOfApp/final%20frontend%20datathon/src/app/map/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo, useState, useCallback } from \"react\";\r\nimport dynamic from \"next/dynamic\";\r\nimport clsx from \"clsx\";\r\nimport Link from \"next/link\";\r\nimport { Loader2, MapPin } from \"lucide-react\";\r\n\r\nimport { Navbar } from \"@/components/ui/Navbar\";\r\nimport { fetchSegments, searchPredictions } from \"@/lib/api\";\r\n\r\n// Dynamically import Leaflet map to avoid SSR issues\r\nconst LeafletMap = dynamic(() => import(\"@/components/dashboard/LeafletMap\"), {\r\n    ssr: false,\r\n    loading: () => <div className=\"w-full h-full min-h-[500px] animate-pulse bg-muted rounded-xl\" />\r\n});\r\n\r\nconst REFRESH_MS = 5 * 60 * 1000;\r\n\r\nexport default function MapPage() {\r\n    const { segments, readings, loading, error } = useTrafficData(REFRESH_MS);\r\n    const [query, setQuery] = useState(\"\");\r\n    const [tileTheme, setTileTheme] = useState(\"dark\");\r\n    const [selectedId, setSelectedId] = useState(null);\r\n\r\n    const indexedSegments = useMemo(() => {\r\n        const m = new Map();\r\n        segments.forEach((s) => m.set(s.road_id, s));\r\n        return m;\r\n    }, [segments]);\r\n\r\n    const latestReadings = useMemo(() => {\r\n        const latest = new Map();\r\n        readings.forEach((r) => {\r\n            const existing = latest.get(r.road_id);\r\n            const ts = r.timestamp ? new Date(r.timestamp).getTime() : 0;\r\n            const exTs = existing?.timestamp ? new Date(existing.timestamp).getTime() : -Infinity;\r\n            if (!existing || ts > exTs) {\r\n                latest.set(r.road_id, r);\r\n            }\r\n        });\r\n        return latest;\r\n    }, [readings]);\r\n\r\n    // Combine all segments with their latest reading (or placeholder) so we show every segment from DB\r\n    const combinedSegments = useMemo(() => {\r\n        return segments.map((seg) => {\r\n            const reading = latestReadings.get(seg.road_id);\r\n            return {\r\n                ...seg,\r\n                ...reading,\r\n                congestion_pct: reading?.congestion_pct ?? null,\r\n                timestamp: reading?.timestamp ?? null,\r\n                source: reading ? \"live\" : \"segment\",\r\n            };\r\n        }).sort((a, b) => (b.congestion_pct ?? 0) - (a.congestion_pct ?? 0));\r\n    }, [segments, latestReadings]);\r\n\r\n    const filtered = useMemo(() => {\r\n        const q = query.toLowerCase();\r\n        return combinedSegments.filter((item) => {\r\n            const hay = `${item.road_id} ${item.road_name || \"\"} ${item.segment_name || \"\"}`.toLowerCase();\r\n            return !q || hay.includes(q);\r\n        });\r\n    }, [combinedSegments, query]);\r\n\r\n    const colorFor = useCallback((pct) => {\r\n        if (pct == null || Number.isNaN(pct)) return \"#94a3b8\"; // neutral gray when no live reading\r\n        return pct >= 70 ? \"#ef4444\" : pct >= 40 ? \"#f59e0b\" : \"#22c55e\";\r\n    }, []);\r\n\r\n    const markers = useMemo(() => {\r\n        return filtered\r\n            .map((item, idx) => {\r\n                const seg = indexedSegments.get(item.road_id) || item;\r\n                if (seg?.lat == null || seg?.lon == null) return null;\r\n                const pct = item.congestion_pct;\r\n                const color = colorFor(pct);\r\n                return {\r\n                    id: `${item.road_id}-${idx}`,\r\n                    linkedId: item.road_id,\r\n                    lat: seg.lat,\r\n                    lng: seg.lon,\r\n                    color,\r\n                    popupContent: (\r\n                        <div className=\"p-2 space-y-1\">\r\n                            <p className=\"font-bold\">{seg.segment_name || seg.road_name}</p>\r\n                            <p className=\"text-sm text-muted-foreground\">{item.road_id}</p>\r\n                            <p className=\"text-sm\">Congestion: {pct != null ? (pct.toFixed?.(1) ?? pct) + \"%\" : \"No live reading\"} {item.congestion_band ? `(${item.congestion_band})` : \"\"}</p>\r\n                            <Link href={`/navigator?road_id=${item.road_id}`} className=\"text-primary text-sm font-semibold\">View forecast →</Link>\r\n                        </div>\r\n                    ),\r\n                };\r\n            })\r\n            .filter(Boolean);\r\n    }, [filtered, indexedSegments, colorFor]);\r\n\r\n    const onMarkerClick = useCallback((id) => {\r\n        setSelectedId(id);\r\n        const el = document.getElementById(`card-${id}`);\r\n        if (el) {\r\n            el.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-background text-foreground\">\r\n            <Navbar />\r\n            <div className=\"pt-20 px-4 max-w-7xl mx-auto space-y-6 h-[calc(100vh-80px)]\">\r\n                <div className=\"flex flex-col h-full gap-4\">\r\n                    <div className=\"flex items-center justify-between flex-wrap gap-3\">\r\n                        <h1 className=\"text-2xl font-bold\">Live Traffic Grid</h1>\r\n                        <div className=\"flex items-center gap-2 text-sm text-emerald-500\">\r\n                            <span className=\"relative flex h-2 w-2\">\r\n                                <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75\"></span>\r\n                                <span className=\"relative inline-flex rounded-full h-2 w-2 bg-emerald-500\"></span>\r\n                            </span>\r\n                            System Online\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full pb-6\">\r\n                        {/* Real Map Container */}\r\n                        <div className=\"lg:col-span-2 h-full min-h-[500px] rounded-xl overflow-hidden border border-border relative\">\r\n                            <LeafletMap markers={markers} onMarkerClick={onMarkerClick} tileTheme={tileTheme} />\r\n                            {loading && (\r\n                                <div className=\"absolute inset-0 flex items-center justify-center bg-background/60 backdrop-blur-sm\">\r\n                                    <Loader2 className=\"h-6 w-6 animate-spin text-muted-foreground\" />\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Live feed and search */}\r\n                        <div className=\"lg:col-span-1 h-full min-h-[500px] flex flex-col gap-4\">\r\n                            <div className=\"p-4 rounded-xl border border-border bg-card/50 backdrop-blur-sm space-y-3\">\r\n                                <p className=\"text-sm font-semibold\">Search location</p>\r\n                                <input\r\n                                    className=\"w-full p-2.5 rounded-md bg-background border border-border/60 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50\"\r\n                                    placeholder=\"Search by road, segment, or ID\"\r\n                                    value={query}\r\n                                    onChange={(e) => setQuery(e.target.value)}\r\n                                />\r\n                                <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\r\n                                    <span>Map theme</span>\r\n                                    <select\r\n                                        className=\"bg-background border border-border/60 rounded-md px-2 py-1 text-xs\"\r\n                                        value={tileTheme}\r\n                                        onChange={(e) => setTileTheme(e.target.value)}\r\n                                    >\r\n                                        <option value=\"light\">Light</option>\r\n                                        <option value=\"dark\">Dark</option>\r\n                                    </select>\r\n                                </div>\r\n                                {error && <p className=\"text-sm text-red-500\">{error}</p>}\r\n                                <p className=\"text-xs text-muted-foreground\">Showing {filtered.length} of {combinedSegments.length} segments</p>\r\n                            </div>\r\n\r\n                            <div className=\"flex-1 overflow-auto rounded-xl border border-border bg-card/40 backdrop-blur-sm p-3 space-y-3\">\r\n                                <p className=\"text-sm font-semibold\">Live traffic feed</p>\r\n                                {loading && <p className=\"text-sm text-muted-foreground\">Loading…</p>}\r\n                                {!loading && filtered.length === 0 && <p className=\"text-sm text-muted-foreground\">No locations match your search.</p>}\r\n                                {filtered.map((r, idx) => {\r\n                                    const seg = indexedSegments.get(r.road_id) || r;\r\n                                    const pct = r.congestion_pct;\r\n                                    const color = colorFor(pct);\r\n                                    const isSelected = selectedId === r.road_id;\r\n                                    return (\r\n                                        <div\r\n                                            key={`${r.road_id}-${idx}`}\r\n                                            id={`card-${r.road_id}`}\r\n                                            onClick={() => setSelectedId(r.road_id)}\r\n                                            className={clsx(\r\n                                                \"p-3 rounded-lg border bg-background/40 cursor-pointer transition-colors\",\r\n                                                isSelected ? \"border-cyan-400/60 bg-cyan-900/10\" : \"border-border/60 hover:border-cyan-500/40\"\r\n                                            )}\r\n                                        >\r\n                                            <div className=\"flex items-center justify-between gap-2\">\r\n                                                <div className=\"space-y-0.5\">\r\n                                                    <p className=\"font-semibold text-sm text-foreground flex items-center gap-1\">\r\n                                                        <MapPin className=\"h-3 w-3 text-cyan-400\" /> {seg.segment_name || seg.road_name || r.road_id}\r\n                                                    </p>\r\n                                                    <p className=\"text-[11px] text-muted-foreground\">{seg.road_name} · {r.road_id}</p>\r\n                                                </div>\r\n                                                <span\r\n                                                    className=\"text-[11px] px-2 py-1 rounded-full font-semibold\"\r\n                                                    style={{ backgroundColor: `${color}22`, color: color }}\r\n                                                >\r\n                                                    {pct != null ? `${pct.toFixed?.(1) ?? pct}%` : \"—\"}\r\n                                                </span>\r\n                                            </div>\r\n                                            <div className=\"flex items-center justify-between mt-2 text-[11px] text-muted-foreground\">\r\n                                                <span>{r.timestamp ? formatTime(r.timestamp) : \"No live reading\"}</span>\r\n                                                <Link href={`/navigator?road_id=${r.road_id}`} className=\"text-primary font-semibold\">View forecast</Link>\r\n                                            </div>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n\r\nfunction useTrafficData(refreshMs = REFRESH_MS) {\r\n    const [segments, setSegments] = useState([]);\r\n    const [readings, setReadings] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        let mounted = true;\r\n        const load = async () => {\r\n            setLoading(true);\r\n            try {\r\n                const [segData, readingData] = await Promise.all([\r\n                    fetchSegments(),\r\n                    searchPredictions({ limit: 1000 })\r\n                ]);\r\n                if (!mounted) return;\r\n                setSegments(segData || []);\r\n                setReadings(readingData || []);\r\n                setError(\"\");\r\n            } catch (err) {\r\n                if (mounted) setError(err.message || \"Failed to load map data\");\r\n            } finally {\r\n                if (mounted) setLoading(false);\r\n            }\r\n        };\r\n        load();\r\n        const id = setInterval(load, refreshMs);\r\n        return () => {\r\n            mounted = false;\r\n            clearInterval(id);\r\n        };\r\n    }, [refreshMs]);\r\n\r\n    return { segments, readings, loading, error };\r\n}\r\n\r\nfunction formatTime(ts) {\r\n    if (!ts) return \"--\";\r\n    const d = new Date(ts);\r\n    if (Number.isNaN(d.getTime())) return ts;\r\n    return d.toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" });\r\n}\r\n"],"names":[],"mappings":"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"}}]
}